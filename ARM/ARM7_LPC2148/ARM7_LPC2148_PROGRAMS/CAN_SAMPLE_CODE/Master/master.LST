ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 1   


ARM COMPILER V2.53, COMPILATION OF MODULE master
OBJECT MODULE PLACED IN master.OBJ
COMPILER INVOKED BY: C:\Keil\ARM\BIN\CA.exe master.c THUMB BROWSE DEBUG TABS(4) 

stmt  level    source

    1          #include<LPC21xx.h>
    2          #include<stdio.h>
    3          #include "tnmadelay.h"
    4          #include "tnma4bitlcd2129.h"
    5          #include "can_func.h"
    6          #include "tnmaUART2129.h"
    7          
    8          int main(void)
    9          {
   10   1      char dt[13];
   11   1      unsigned int val=0,val1=0;
   12   1      unsigned int val2=0,val3=0; 
   13   1      IODIR1 = 0X00FF0000;
   14   1      IOCLR1 = 0x00FF0000;
   15   1      
   16   1      Can_Init();
   17   1      init_4bit_lcd();
   18   1      Init_UART0();
   19   1      disp_string(1,0x80,"master");
   20   1      send_string_u0("Master..");
   21   1      send_string_u0("\n\r");
   22   1      while(1) {
   23   2              while((C2GSR&0X10)!=0X10);
   24   2              val=((C2RDA&0xFFFF0000)>>16);
   25   2              val1=(C2RDA&0xFFFF);
   26   2              val2=((C2RDB&0xFFFF0000)>>16);
   27   2              val3=(C2RDB&0xFFFF);
   28   2              //C2CMR = 0x00000004;
   29   2              sprintf(dt,"   Temp: %2d dC  ",val);
   30   2              disp_string(0,0x80,dt);
   31   2              send_string_u0(dt);
   32   2              send_string_u0("\n\r");
   33   2              
   34   2      
   35   2              sprintf(dt,"     CO: %3d     ",val1);
   36   2              send_string_u0(dt);
   37   2              send_string_u0("\n\r");
   38   2      
   39   2              if(val>60){
   40   3                  disp_string(0,0x80,"High Temperature");
   41   3                  disp_string(0,0xc0," Vehicle OFF!!! ");
   42   3                  send_string_u0("High Temperature!!!\n\rVehicle OFF!!!\n\r");    
   43   3                  }
   44   2              
   45   2              if(val1>390){
   46   3                  disp_string(0,0x80,"  High CO Level ");
   47   3                  disp_string(0,0xc0," Vehicle OFF!!! ");
   48   3                  send_string_u0("High CO Level\n\rVehicle OFF!!!\n\r");  
   49   3                  }
   50   2              else{
   51   3                  disp_string(0,0xc0,"  Low CO level  ");
   52   3                  send_string_u0("Low CO level");
   53   3                  send_string_u0("\n\r");
   54   3                  }
   55   2                  
   56   2              // delay_ms(1000);  
   57   2                          
   58   2              
   59   2               sprintf(dt," Battery: %2d %  ",val2);
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 2   

   60   2               disp_string(0,0x80,dt);
   61   2               send_string_u0(dt);
   62   2               send_string_u0("\n\r");
   63   2              
   64   2      
   65   2               sprintf(dt,"    Fuel %2d L   ",val3);
   66   2               disp_string(0,0xC0,dt);
   67   2               send_string_u0(dt);
   68   2               send_string_u0("\n\r");
   69   2      
   70   2               while((C2GSR&0X10)!=0X10);
   71   2               val2=C2RDA;
   72   2               val3=C2RDB;
   73   2               C2CMR = 0x00000004;    
   74   2      
   75   2               delay_ms(1000);
   76   2      
   77   2                  
   78   2              if(val2==1){
   79   3                disp_string(0,0xc0,"Fire Detected...");
   80   3                send_string_u0(" Fire Detected\n\r");
   81   3                send_string_u0(" Vehicle OFF!!!\n\r");
   82   3                }
   83   2              else{ 
   84   3                disp_string(0,0xc0,"No Fire");
   85   3                send_string_u0(" No Fire\n\r");
   86   3                }
   87   2      
   88   2       
   89   2              if(val3==1){
   90   3                disp_string(0,0xc0,"Obstacle Detectd");
   91   3                send_string_u0(" Obstacle Detected\n\r");
   92   3                }
   93   2              else 
   94   2                disp_string(0,0xc0,"No Obstacle");
   95   2                send_string_u0(" No Obstacle\n\r");
   96   2              }
   97   1      
   98   1      return 0;
   99   1      }
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 3   

ASSEMBLY LISTING OF GENERATED OBJECT CODE



*** EXTERNALS:
 EXTERN CODE16 (sprintf?T)
 EXTERN NUMBER (__startup)



*** PUBLICS:
 PUBLIC         delay_10us?T
 PUBLIC         delay_ms?T
 PUBLIC         command4bit?T
 PUBLIC         command?T
 PUBLIC         init_4bit_lcd?T
 PUBLIC         display?T
 PUBLIC         disp_string?T
 PUBLIC         Can_Init?T
 PUBLIC         send_remote_frame?T
 PUBLIC         Wait_for_data_frame?T
 PUBLIC         Wait_for_remote_frame?T
 PUBLIC         SendMessage?T
 PUBLIC         SendMessage1?T
 PUBLIC         ReceiveMessage?T
 PUBLIC         Init_UART0?T
 PUBLIC         Init_UART1?T
 PUBLIC         read_byte_u1?T
 PUBLIC         read_byte_u0?T
 PUBLIC         send_byte_u0?T
 PUBLIC         send_wait_u0?T
 PUBLIC         send_string_u0?T
 PUBLIC         clear_buffer_u1?T
 PUBLIC         clear_buffer_u0?T
 PUBLIC         main



*** DATA SEGMENT '?CON?master':
 00000000          ??S_27:
 00000000            DB          ' No Obstacle',0x0A,0x0D,0x00
 0000000F          ??S_26:
 0000000F            DB          'No Obstacle',0x00
 0000001B          ??S_25:
 0000001B            DB          ' Obstacle Detected',0x0A,0x0D,0x00
 00000030          ??S_24:
 00000030            DB          'Obstacle Detectd',0x00
 00000041          ??S_23:
 00000041            DB          ' No Fire',0x0A,0x0D,0x00
 0000004C          ??S_22:
 0000004C            DB          'No Fire',0x00
 00000054          ??S_21:
 00000054            DB          ' Vehicle OFF!!!',0x0A,0x0D,0x00
 00000066          ??S_20:
 00000066            DB          ' Fire Detected',0x0A,0x0D,0x00
 00000077          ??S_19:
 00000077            DB          'Fire Detected...',0x00
 00000088          ??S_18:
 00000088            DB          '    Fuel %2d L   ',0x00
 0000009A          ??S_17:
 0000009A            DB          ' Battery: %2d %  ',0x00
 000000AC          ??S_16:
 000000AC            DB          'Low CO level',0x00
 000000B9          ??S_15:
 000000B9            DB          '  Low CO level  ',0x00
 000000CA          ??S_14:
 000000CA            DB          'High CO Level',0x0A,0x0D,'Vehicle OFF!'
 000000E5            DB          '!!',0x0A,0x0D,0x00
 000000EA          ??S_13:
 000000EA            DB          '  High CO Level ',0x00
 000000FB          ??S_12:
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 4   

 000000FB            DB          'High Temperature!!!',0x0A,0x0D,'Vehicl'
 00000116            DB          'e OFF!!!',0x0A,0x0D,0x00
 00000121          ??S_11:
 00000121            DB          ' Vehicle OFF!!! ',0x00
 00000132          ??S_10:
 00000132            DB          'High Temperature',0x00
 00000143          ??S_9:
 00000143            DB          '     CO: %3d     ',0x00
 00000155          ??S_8:
 00000155            DB          '   Temp: %2d dC  ',0x00
 00000167          ??S_7:
 00000167            DB          0x0A,0x0D,0x00
 0000016A          ??S_6:
 0000016A            DB          'Master..',0x00
 00000173          ??S_5:
 00000173            DB          'master',0x00
 0000017A          ??S_4:
 0000017A            DB          'wrong',0x00
 00000180          ??S_3:
 00000180            DB          'correct',0x00
 00000188          ??S_2:
 00000188            DB          'in loop',0x00
 00000190          ??S_1:
 00000190            DB          'Remt fram snt',0x00

*** CODE SEGMENT '?PR?delay_10us?T?master':
    1:  void delay_10us(long int dly)
 00000000  ---- Variable 'dly' assigned to Register 'R0' ----
    2:  {
 00000000            ; SCOPE-START
    4:      for(k=0;k<dly;k++)
 00000000  2100      MOV         R1,#0x0
 00000002  ---- Variable 'k' assigned to Register 'R1' ----
 00000002  E005      B           L_3  ; T=0x00000010
    8:       for(j=0;j<200;j++)   // one iteration step takes 3 machine cycle period
 00000004          L_10:
 00000004  2200      MOV         R2,#0x0
 00000006  ---- Variable 'j' assigned to Register 'R2' ----
   11:       }                       // 1 M.cycle=(1/60)us. so 3*(1/60)us=(1/20)us
 00000006          L_6:
 00000006  3201      ADD         R2,#0x1
 00000008  1C13      MOV         R3,R2 ; j
 0000000A  2BC8      CMP         R3,#0xC8 ; j
 0000000C  DBFB      BLT         L_6  ; T=0x00000006
   12:     }                       // 200 * (1/20)us gives ~~ 10us
 0000000E  3101      ADD         R1,#0x1
 00000010          L_3:
 00000010  1C0A      MOV         R2,R1 ; k
 00000012  1C03      MOV         R3,R0 ; dly
 00000014  429A      CMP         R2,R3 ; dly
 00000016  DBF5      BLT         L_10  ; T=0x00000004
 00000018            ; SCOPE-END
   14:  }
 00000018  4770      BX          R14
 0000001A          ENDP ; 'delay_10us?T'


*** CODE SEGMENT '?PR?delay_ms?T?master':
   17:  void delay_ms(long int dly)
 00000000  B410      PUSH        {R4}
 00000002  ---- Variable 'dly' assigned to Register 'R0' ----
   18:  {
 00000002            ; SCOPE-START
   20:      for(k=0;k<dly;k++)
 00000002  2100      MOV         R1,#0x0
 00000004  ---- Variable 'k' assigned to Register 'R1' ----
 00000004  E00A      B           L_13  ; T=0x0000001C
   22:         for(i=0;i<100;i++)
 00000006          L_20:
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 5   

 00000006  2200      MOV         R2,#0x0
 00000008  ---- Variable 'i' assigned to Register 'R2' ----
   25:             for(j=0;j<200;j++)     // one iteration step takes 3 machine cycle period
 00000008          L_25:
 00000008  2300      MOV         R3,#0x0
 0000000A  ---- Variable 'j' assigned to Register 'R3' ----
   28:             }                      // 1 M.cycle=(1/60)us. so 3*(1/60)us=(1/20)us
 0000000A          L_21:
 0000000A  3301      ADD         R3,#0x1
 0000000C  1C1C      MOV         R4,R3 ; j
 0000000E  2CC8      CMP         R4,#0xC8 ; j
 00000010  D3FB      BCC         L_21  ; T=0x0000000A
   29:         }                          // 200 * (1/20)us gives ~~ 10us
 00000012  3201      ADD         R2,#0x1
 00000014  1C13      MOV         R3,R2 ; i
 00000016  2B64      CMP         R3,#0x64 ; i
 00000018  D3F6      BCC         L_25  ; T=0x00000008
   30:      }
 0000001A  3101      ADD         R1,#0x1
 0000001C          L_13:
 0000001C  1C03      MOV         R3,R0 ; dly
 0000001E  1C0A      MOV         R2,R1 ; k
 00000020  429A      CMP         R2,R3 ; k
 00000022  D3F0      BCC         L_20  ; T=0x00000006
 00000024            ; SCOPE-END
   32:  }
 00000024  BC10      POP         {R4}
 00000026  4770      BX          R14
 00000028          ENDP ; 'delay_ms?T'


*** CODE SEGMENT '?PR?command4bit?T?master':
    1: void command4bit(char c)
 00000000  B500      PUSH        {LR}
 00000002  1C01      MOV         R1,R0 ; c
 00000004  ---- Variable 'c' assigned to Register 'R1' ----
    2: {
 00000004            ; SCOPE-START
    4:  cc=c;
 00000004  1C08      MOV         R0,R1 ; c
 00000006  0602      LSL         R2,R0,#0x18 ; c
 00000008  0E12      LSR         R2,R2,#0x18
 0000000A  ---- Variable 'cc' assigned to Register 'R2' ----
    5:  cc=cc<<20; 
 0000000A  0512      LSL         R2,R2,#0x14 ; cc
    7:  IOCLR1=0X00F00000;  //clear D7 to D4
 0000000C  4800      LDR         R1,=0xF00000
 0000000E  4800      LDR         R0,=0xE002801C
 00000010  6001      STR         R1,[R0,#0x0]
    9:  IOCLR1=0X00040000;  //rw = 0
 00000012  4800      LDR         R1,=0x40000
 00000014  4800      LDR         R0,=0xE002801C
 00000016  6001      STR         R1,[R0,#0x0]
   10:  IOCLR1=0X00020000;  //rs = 0
 00000018  4800      LDR         R1,=0x20000
 0000001A  4800      LDR         R0,=0xE002801C
 0000001C  6001      STR         R1,[R0,#0x0]
   12:  IOSET1=(cc&0X00F00000);
 0000001E  1C11      MOV         R1,R2 ; cc
 00000020  4800      LDR         R0,=0xF00000
 00000022  4001      AND         R1,R0
 00000024  4800      LDR         R0,=0xE0028014
 00000026  6001      STR         R1,[R0,#0x0]
   13:  IOSET1=0X00080000;   //en=1
 00000028  4800      LDR         R1,=0x80000
 0000002A  4800      LDR         R0,=0xE0028014
 0000002C  6001      STR         R1,[R0,#0x0]
   14:  delay_10us(20);
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 6   

 0000002E  2014      MOV         R0,#0x14
 00000030  F7FF      BL          delay_10us?T  ; T=0x0001  (1)
 00000032  FFE6      BL          delay_10us?T  ; T=0x0001  (2)
   15:  IOCLR1=0X00080000;   //en=0 
 00000034  4800      LDR         R1,=0x80000
 00000036  4800      LDR         R0,=0xE002801C
 00000038  6001      STR         R1,[R0,#0x0]
 0000003A            ; SCOPE-END
   16: }
 0000003A  BC08      POP         {R3}
 0000003C  4718      BX          R3
 0000003E          ENDP ; 'command4bit?T'


*** CODE SEGMENT '?PR?command?T?master':
   18: void command(char c)
 00000000  B530      PUSH        {R4-R5,LR}
 00000002  1C05      MOV         R5,R0 ; c
 00000004  ---- Variable 'c' assigned to Register 'R5' ----
   19: {
 00000004            ; SCOPE-START
   21:  cc=c;
 00000004  1C28      MOV         R0,R5 ; c
 00000006  0604      LSL         R4,R0,#0x18 ; c
 00000008  0E24      LSR         R4,R4,#0x18
 0000000A  ---- Variable 'cc' assigned to Register 'R4' ----
   22:  cc=cc<<16;  //to send higher nibble first
 0000000A  0424      LSL         R4,R4,#0x10 ; cc
   23:  IOCLR1=0X00F00000;
 0000000C  4800      LDR         R1,=0xF00000
 0000000E  4800      LDR         R0,=0xE002801C
 00000010  6001      STR         R1,[R0,#0x0]
   24:  IOCLR1=0X00040000;
 00000012  4800      LDR         R1,=0x40000
 00000014  4800      LDR         R0,=0xE002801C
 00000016  6001      STR         R1,[R0,#0x0]
   25:  IOCLR1=0X00020000;
 00000018  4800      LDR         R1,=0x20000
 0000001A  4800      LDR         R0,=0xE002801C
 0000001C  6001      STR         R1,[R0,#0x0]
   26:  IOSET1=(cc&0X00F00000);
 0000001E  1C21      MOV         R1,R4 ; cc
 00000020  4800      LDR         R0,=0xF00000
 00000022  4001      AND         R1,R0
 00000024  4800      LDR         R0,=0xE0028014
 00000026  6001      STR         R1,[R0,#0x0]
   27:  IOSET1=0X00080000;
 00000028  4800      LDR         R1,=0x80000
 0000002A  4800      LDR         R0,=0xE0028014
 0000002C  6001      STR         R1,[R0,#0x0]
   28:  delay_10us(20);
 0000002E  2014      MOV         R0,#0x14
 00000030  F7FF      BL          delay_10us?T  ; T=0x0001  (1)
 00000032  FFE6      BL          delay_10us?T  ; T=0x0001  (2)
   29:  IOCLR1=0X00080000;;
 00000034  4800      LDR         R1,=0x80000
 00000036  4800      LDR         R0,=0xE002801C
 00000038  6001      STR         R1,[R0,#0x0]
   30:  cc=c;
 0000003A  1C28      MOV         R0,R5 ; c
 0000003C  0604      LSL         R4,R0,#0x18 ; c
 0000003E  0E24      LSR         R4,R4,#0x18
   31:  cc=cc<<20;
 00000040  0524      LSL         R4,R4,#0x14 ; cc
   32:  IOCLR1=0X00F00000;
 00000042  4800      LDR         R2,=0xF00000
 00000044  4800      LDR         R0,=0xE002801C
 00000046  6002      STR         R2,[R0,#0x0]
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 7   

   33:  IOCLR1=0X00040000;
 00000048  4800      LDR         R2,=0x40000
 0000004A  4800      LDR         R0,=0xE002801C
 0000004C  6002      STR         R2,[R0,#0x0]
   34:  IOCLR1=0X00020000;
 0000004E  4800      LDR         R2,=0x20000
 00000050  4800      LDR         R0,=0xE002801C
 00000052  6002      STR         R2,[R0,#0x0]
   35:  IOSET1=(cc&0X00F00000);
 00000054  1C22      MOV         R2,R4 ; cc
 00000056  4800      LDR         R0,=0xF00000
 00000058  4002      AND         R2,R0
 0000005A  4800      LDR         R0,=0xE0028014
 0000005C  6002      STR         R2,[R0,#0x0]
   36:  IOSET1=0X00080000;
 0000005E  4800      LDR         R0,=0xE0028014
 00000060  6001      STR         R1,[R0,#0x0]
   37:  delay_10us(20);
 00000062  2014      MOV         R0,#0x14
 00000064  F7FF      BL          delay_10us?T  ; T=0x0001  (1)
 00000066  FFCC      BL          delay_10us?T  ; T=0x0001  (2)
   38:  IOCLR1=0X00080000;
 00000068  4800      LDR         R1,=0x80000
 0000006A  4800      LDR         R0,=0xE002801C
 0000006C  6001      STR         R1,[R0,#0x0]
 0000006E            ; SCOPE-END
   39: }
 0000006E  BC30      POP         {R4-R5}
 00000070  BC08      POP         {R3}
 00000072  4718      BX          R3
 00000074          ENDP ; 'command?T'


*** CODE SEGMENT '?PR?init_4bit_lcd?T?master':
   44: void init_4bit_lcd(void)
 00000000  B500      PUSH        {LR}
   46:  IODIR1 |= 0X00FE0000; // P1.23 - P1.20 to D7 to D4
 00000002  4800      LDR         R2,=0xFE0000
 00000004  4800      LDR         R0,=0xE0028018
 00000006  6801      LDR         R1,[R0,#0x0]
 00000008  4311      ORR         R1,R2
 0000000A  6001      STR         R1,[R0,#0x0]
   50:  delay_ms(20);
 0000000C  2014      MOV         R0,#0x14
 0000000E  F7FF      BL          delay_ms?T  ; T=0x0001  (1)
 00000010  FFF7      BL          delay_ms?T  ; T=0x0001  (2)
   51:  command4bit(3);
 00000012  2003      MOV         R0,#0x3
 00000014  F7FF      BL          command4bit?T  ; T=0x0001  (1)
 00000016  FFF4      BL          command4bit?T  ; T=0x0001  (2)
   52:  delay_ms(10);
 00000018  200A      MOV         R0,#0xA
 0000001A  F7FF      BL          delay_ms?T  ; T=0x0001  (1)
 0000001C  FFF1      BL          delay_ms?T  ; T=0x0001  (2)
   53:  command4bit(3);
 0000001E  2003      MOV         R0,#0x3
 00000020  F7FF      BL          command4bit?T  ; T=0x0001  (1)
 00000022  FFEE      BL          command4bit?T  ; T=0x0001  (2)
   54:  delay_ms(10);
 00000024  200A      MOV         R0,#0xA
 00000026  F7FF      BL          delay_ms?T  ; T=0x0001  (1)
 00000028  FFEB      BL          delay_ms?T  ; T=0x0001  (2)
   55:   command4bit(3);
 0000002A  2003      MOV         R0,#0x3
 0000002C  F7FF      BL          command4bit?T  ; T=0x0001  (1)
 0000002E  FFE8      BL          command4bit?T  ; T=0x0001  (2)
   56:  delay_ms(10);
 00000030  200A      MOV         R0,#0xA
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 8   

 00000032  F7FF      BL          delay_ms?T  ; T=0x0001  (1)
 00000034  FFE5      BL          delay_ms?T  ; T=0x0001  (2)
   57:   command4bit(2);
 00000036  2002      MOV         R0,#0x2
 00000038  F7FF      BL          command4bit?T  ; T=0x0001  (1)
 0000003A  FFE2      BL          command4bit?T  ; T=0x0001  (2)
   58:  delay_ms(10);
 0000003C  200A      MOV         R0,#0xA
 0000003E  F7FF      BL          delay_ms?T  ; T=0x0001  (1)
 00000040  FFDF      BL          delay_ms?T  ; T=0x0001  (2)
   59:  command(0X28);
 00000042  2028      MOV         R0,#0x28
 00000044  F7FF      BL          command?T  ; T=0x0001  (1)
 00000046  FFDC      BL          command?T  ; T=0x0001  (2)
   60:  delay_ms(10);
 00000048  200A      MOV         R0,#0xA
 0000004A  F7FF      BL          delay_ms?T  ; T=0x0001  (1)
 0000004C  FFD9      BL          delay_ms?T  ; T=0x0001  (2)
   61:  command(0X0E);
 0000004E  200E      MOV         R0,#0xE
 00000050  F7FF      BL          command?T  ; T=0x0001  (1)
 00000052  FFD6      BL          command?T  ; T=0x0001  (2)
   62:   delay_ms(5);
 00000054  2005      MOV         R0,#0x5
 00000056  F7FF      BL          delay_ms?T  ; T=0x0001  (1)
 00000058  FFD3      BL          delay_ms?T  ; T=0x0001  (2)
   63:  command(0X01);
 0000005A  2001      MOV         R0,#0x1
 0000005C  F7FF      BL          command?T  ; T=0x0001  (1)
 0000005E  FFD0      BL          command?T  ; T=0x0001  (2)
   64:   delay_ms(5);
 00000060  2005      MOV         R0,#0x5
 00000062  F7FF      BL          delay_ms?T  ; T=0x0001  (1)
 00000064  FFCD      BL          delay_ms?T  ; T=0x0001  (2)
   65:  command(0X06);
 00000066  2006      MOV         R0,#0x6
 00000068  F7FF      BL          command?T  ; T=0x0001  (1)
 0000006A  FFCA      BL          command?T  ; T=0x0001  (2)
   66:   delay_ms(5);
 0000006C  2005      MOV         R0,#0x5
 0000006E  F7FF      BL          delay_ms?T  ; T=0x0001  (1)
 00000070  FFC7      BL          delay_ms?T  ; T=0x0001  (2)
   67:  command(0X80);
 00000072  2080      MOV         R0,#0x80
 00000074  F7FF      BL          command?T  ; T=0x0001  (1)
 00000076  FFC4      BL          command?T  ; T=0x0001  (2)
   68:   delay_ms(5);
 00000078  2005      MOV         R0,#0x5
 0000007A  F7FF      BL          delay_ms?T  ; T=0x0001  (1)
 0000007C  FFC1      BL          delay_ms?T  ; T=0x0001  (2)
   69: }
 0000007E  BC08      POP         {R3}
 00000080  4718      BX          R3
 00000082          ENDP ; 'init_4bit_lcd?T'


*** CODE SEGMENT '?PR?display?T?master':
   73: void display(char g)
 00000000  B530      PUSH        {R4-R5,LR}
 00000002  1C05      MOV         R5,R0 ; g
 00000004  ---- Variable 'g' assigned to Register 'R5' ----
   74: {
 00000004            ; SCOPE-START
   77:  delay_ms(1);
 00000004  2001      MOV         R0,#0x1
 00000006  F7FF      BL          delay_ms?T  ; T=0x0001  (1)
 00000008  FFFB      BL          delay_ms?T  ; T=0x0001  (2)
   78:  c=g;
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 9   

 0000000A  1C28      MOV         R0,R5 ; g
 0000000C  0604      LSL         R4,R0,#0x18 ; g
 0000000E  0E24      LSR         R4,R4,#0x18
 00000010  ---- Variable 'c' assigned to Register 'R4' ----
   79:  c=c<<16;
 00000010  0424      LSL         R4,R4,#0x10 ; c
   80:  IOCLR1=0X00F00000;
 00000012  4800      LDR         R1,=0xF00000
 00000014  4800      LDR         R0,=0xE002801C
 00000016  6001      STR         R1,[R0,#0x0]
   81:  IOCLR1=0X00040000;
 00000018  4800      LDR         R1,=0x40000
 0000001A  4800      LDR         R0,=0xE002801C
 0000001C  6001      STR         R1,[R0,#0x0]
   82:  IOSET1=0X00020000;
 0000001E  4800      LDR         R1,=0x20000
 00000020  4800      LDR         R0,=0xE0028014
 00000022  6001      STR         R1,[R0,#0x0]
   83:  IOSET1=(c&0X00F00000);
 00000024  1C21      MOV         R1,R4 ; c
 00000026  4800      LDR         R0,=0xF00000
 00000028  4001      AND         R1,R0
 0000002A  4800      LDR         R0,=0xE0028014
 0000002C  6001      STR         R1,[R0,#0x0]
   84:  IOSET1=0X00080000;
 0000002E  4800      LDR         R1,=0x80000
 00000030  4800      LDR         R0,=0xE0028014
 00000032  6001      STR         R1,[R0,#0x0]
   85:  delay_10us(20);
 00000034  2014      MOV         R0,#0x14
 00000036  F7FF      BL          delay_10us?T  ; T=0x0001  (1)
 00000038  FFE3      BL          delay_10us?T  ; T=0x0001  (2)
   86:  IOCLR1=0X00080000;
 0000003A  4800      LDR         R1,=0x80000
 0000003C  4800      LDR         R0,=0xE002801C
 0000003E  6001      STR         R1,[R0,#0x0]
   88:  c=g;
 00000040  1C28      MOV         R0,R5 ; g
 00000042  0604      LSL         R4,R0,#0x18 ; g
 00000044  0E24      LSR         R4,R4,#0x18
   89:  c=c<<20;
 00000046  0524      LSL         R4,R4,#0x14 ; c
   90:  IOCLR1=0X00F00000;
 00000048  4800      LDR         R2,=0xF00000
 0000004A  4800      LDR         R0,=0xE002801C
 0000004C  6002      STR         R2,[R0,#0x0]
   91:  IOCLR1=0X00040000;
 0000004E  4800      LDR         R2,=0x40000
 00000050  4800      LDR         R0,=0xE002801C
 00000052  6002      STR         R2,[R0,#0x0]
   92:  IOSET1=0X00020000;
 00000054  4800      LDR         R2,=0x20000
 00000056  4800      LDR         R0,=0xE0028014
 00000058  6002      STR         R2,[R0,#0x0]
   93:  IOSET1=(c&0X00F00000);
 0000005A  1C22      MOV         R2,R4 ; c
 0000005C  4800      LDR         R0,=0xF00000
 0000005E  4002      AND         R2,R0
 00000060  4800      LDR         R0,=0xE0028014
 00000062  6002      STR         R2,[R0,#0x0]
   94:  IOSET1=0X00080000;
 00000064  4800      LDR         R0,=0xE0028014
 00000066  6001      STR         R1,[R0,#0x0]
   95:  delay_10us(20);
 00000068  2014      MOV         R0,#0x14
 0000006A  F7FF      BL          delay_10us?T  ; T=0x0001  (1)
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 10  

 0000006C  FFC9      BL          delay_10us?T  ; T=0x0001  (2)
   96:  IOCLR1=0X00080000;
 0000006E  4800      LDR         R1,=0x80000
 00000070  4800      LDR         R0,=0xE002801C
 00000072  6001      STR         R1,[R0,#0x0]
 00000074            ; SCOPE-END
   97:  }
 00000074  BC30      POP         {R4-R5}
 00000076  BC08      POP         {R3}
 00000078  4718      BX          R3
 0000007A          ENDP ; 'display?T'


*** CODE SEGMENT '?PR?disp_string?T?master':
   99:  void disp_string(char clr,char pos,char *dat)
 00000000  B530      PUSH        {R4-R5,LR}
 00000002  1C15      MOV         R5,R2 ; dat
 00000004  ---- Variable 'dat' assigned to Register 'R5' ----
 00000004  1C0C      MOV         R4,R1 ; pos
 00000006  ---- Variable 'pos' assigned to Register 'R4' ----
 00000006  1C01      MOV         R1,R0 ; clr
 00000008  ---- Variable 'clr' assigned to Register 'R1' ----
  100:  {
 00000008            ; SCOPE-START
  102:    if(clr==1)
 00000008  1C08      MOV         R0,R1 ; clr
 0000000A  0600      LSL         R0,R0,#0x18 ; clr
 0000000C  0E00      LSR         R0,R0,#0x18
 0000000E  2801      CMP         R0,#0x1
 00000010  D105      BNE         L_26  ; T=0x0000001E
  104:      command(0X01);
 00000012  2001      MOV         R0,#0x1
 00000014  F7FF      BL          command?T  ; T=0x0001  (1)
 00000016  FFF4      BL          command?T  ; T=0x0001  (2)
  105:      delay_ms(5);
 00000018  2005      MOV         R0,#0x5
 0000001A  F7FF      BL          delay_ms?T  ; T=0x0001  (1)
 0000001C  FFF1      BL          delay_ms?T  ; T=0x0001  (2)
  106:    }
 0000001E          L_26:
  107:      command(pos);
 0000001E  1C20      MOV         R0,R4 ; pos
 00000020  0600      LSL         R0,R0,#0x18 ; pos
 00000022  0E00      LSR         R0,R0,#0x18
 00000024  F7FF      BL          command?T  ; T=0x0001  (1)
 00000026  FFEC      BL          command?T  ; T=0x0001  (2)
  108:      for(i=0;dat[i]!='\0';i++)
 00000028  2400      MOV         R4,#0x0
 0000002A  ---- Variable 'i' assigned to Register 'R4' ----
 0000002A  E005      B           L_29  ; T=0x00000038
 0000002C          L_30:
  109:      display(dat[i]);
 0000002C  1C21      MOV         R1,R4 ; i
 0000002E  1C28      MOV         R0,R5 ; dat
 00000030  5C40      LDRB        R0,[R0,R1]
 00000032  F7FF      BL          display?T  ; T=0x0001  (1)
 00000034  FFE5      BL          display?T  ; T=0x0001  (2)
 00000036  3401      ADD         R4,#0x1
 00000038          L_29:
 00000038  1C21      MOV         R1,R4 ; i
 0000003A  1C28      MOV         R0,R5 ; dat
 0000003C  5C40      LDRB        R0,[R0,R1]
 0000003E  2800      CMP         R0,#0x0
 00000040  D1F4      BNE         L_30  ; T=0x0000002C
 00000042            ; SCOPE-END
  110: }
 00000042  BC30      POP         {R4-R5}
 00000044  BC08      POP         {R3}
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 11  

 00000046  4718      BX          R3
 00000048          ENDP ; 'disp_string?T'


*** CODE SEGMENT '?PR?Can_Init?T?master':
    7: {
 00000000            ; SCOPE-START
   10: PINSEL1|= 0x15414000; 
 00000000  4800      LDR         R2,=0x15414000
 00000002  4800      LDR         R0,=0xE002C004
 00000004  6801      LDR         R1,[R0,#0x0]
 00000006  4311      ORR         R1,R2
 00000008  6001      STR         R1,[R0,#0x0]
   11: PINSEL2|=  0x00000030;
 0000000A  2230      MOV         R2,#0x30
 0000000C  4800      LDR         R0,=0xE002C014
 0000000E  6801      LDR         R1,[R0,#0x0]
 00000010  4311      ORR         R1,R2
 00000012  6001      STR         R1,[R0,#0x0]
   15: C2MOD = 1; // Enter Reset Mode
 00000014  2201      MOV         R2,#0x1
 00000016  4800      LDR         R0,=0xE0048000
 00000018  6002      STR         R2,[R0,#0x0]
   16: C2GSR = 0; // Clear status register
 0000001A  2100      MOV         R1,#0x0
 0000001C  4800      LDR         R0,=0xE0048008
 0000001E  6001      STR         R1,[R0,#0x0]
   17: C2BTR = 0x001C001D; // Set bit timing
 00000020  4800      LDR         R3,=0x1C001D
 00000022  4800      LDR         R0,=0xE0048014
 00000024  6003      STR         R3,[R0,#0x0]
   20: C2IER = 0;
 00000026  4800      LDR         R0,=0xE0048010
 00000028  6001      STR         R1,[R0,#0x0]
   23: C2MOD = 0; // Operating Mode 
 0000002A  4800      LDR         R0,=0xE0048000
 0000002C  6001      STR         R1,[R0,#0x0]
   25: AFMR = 0x00000001;
 0000002E  4800      LDR         R0,=0xE003C000
 00000030  6002      STR         R2,[R0,#0x0]
   26: SFF_sa = 0;
 00000032  4800      LDR         R0,=0xE003C004
 00000034  6001      STR         R1,[R0,#0x0]
   28: pAddr = (DWORD *) ACCEPTANCE_FILTER_RAM_BASE;
 00000036  4800      LDR         R2,=0xE0038000
 00000038  ---- Variable 'pAddr' assigned to Register 'R2' ----
   30: *pAddr = 0x211f20cf;
 00000038  4800      LDR         R1,=0x211F20CF
 0000003A  1C10      MOV         R0,R2 ; pAddr
 0000003C  6001      STR         R1,[R0,#0x0] ; pAddr
   31: pAddr++;
 0000003E  3204      ADD         R2,#0x4
   32: *pAddr = 0x206B2064;
 00000040  4800      LDR         R1,=0x206B2064
 00000042  1C10      MOV         R0,R2 ; pAddr
 00000044  6001      STR         R1,[R0,#0x0] ; pAddr
   34: SFF_GRP_sa = 0x00000008;
 00000046  2108      MOV         R1,#0x8
 00000048  4800      LDR         R0,=0xE003C008
 0000004A  6001      STR         R1,[R0,#0x0]
   35: EFF_sa = 0x00000008;
 0000004C  4800      LDR         R0,=0xE003C00C
 0000004E  6001      STR         R1,[R0,#0x0]
   36: EFF_GRP_sa = 0x00000008;
 00000050  4800      LDR         R0,=0xE003C010
 00000052  6001      STR         R1,[R0,#0x0]
   37: ENDofTable = 0x00000008;
 00000054  4800      LDR         R0,=0xE003C014
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 12  

 00000056  6001      STR         R1,[R0,#0x0]
   39: AFMR = 0x00000000; 
 00000058  2100      MOV         R1,#0x0
 0000005A  4800      LDR         R0,=0xE003C000
 0000005C  6001      STR         R1,[R0,#0x0]
   41: return 0;
 0000005E  2000      MOV         R0,#0x0
 00000060            ; SCOPE-END
   42: }
 00000060  4770      BX          R14
 00000062          ENDP ; 'Can_Init?T'


*** CODE SEGMENT '?PR?send_remote_frame?T?master':
   45: void send_remote_frame(unsigned int x)
 00000000  B500      PUSH        {LR}
 00000002  ---- Variable 'x' assigned to Register 'R0' ----
 00000002  B082      SUB         R13,#0x8
   46: {
 00000004            ; SCOPE-START
   48: while((C2SR & 0x00000004) != 0x00000004);
 00000004          L_33:
 00000004  4800      LDR         R1,=0xE004801C
 00000006  6809      LDR         R1,[R1,#0x0]
 00000008  2204      MOV         R2,#0x4
 0000000A  4211      TST         R1,R2
 0000000C  D0FA      BEQ         L_33  ; T=0x00000004
   49: C2TFI1 = 0x40010000; //RTR bit high
 0000000E  4800      LDR         R2,=0x40010000
 00000010  4800      LDR         R1,=0xE0048030
 00000012  600A      STR         R2,[R1,#0x0]
   50: C2TID1 = x;
 00000014  1C01      MOV         R1,R0 ; x
 00000016  4800      LDR         R0,=0xE0048034
 00000018  6001      STR         R1,[R0,#0x0]
   51: C2TDA1 = DatA;
 0000001A  9900      LDR         R1,[R13,#0x0] ; DatA
 0000001C  4800      LDR         R0,=0xE0048038
 0000001E  6001      STR         R1,[R0,#0x0]
   52: C2TDB1 = DatB;
 00000020  9901      LDR         R1,[R13,#0x4] ; DatB
 00000022  4800      LDR         R0,=0xE004803C
 00000024  6001      STR         R1,[R0,#0x0]
   53: C2CMR = 0x21;
 00000026  2121      MOV         R1,#0x21
 00000028  4800      LDR         R0,=0xE0048004
 0000002A  6001      STR         R1,[R0,#0x0]
   55: while((C2GSR & 0x00000008) != 0x00000008);
 0000002C          L_37:
 0000002C  4800      LDR         R0,=0xE0048008
 0000002E  6800      LDR         R0,[R0,#0x0]
 00000030  2108      MOV         R1,#0x8
 00000032  4208      TST         R0,R1
 00000034  D0FA      BEQ         L_37  ; T=0x0000002C
   56: C2CMR = 0x00; 
 00000036  2100      MOV         R1,#0x0
 00000038  4800      LDR         R0,=0xE0048004
 0000003A  6001      STR         R1,[R0,#0x0]
   57: disp_string(1,0x80,"Remt fram snt");
 0000003C  4800      LDR         R2,=??S_1 ; ??S_1
 0000003E  2001      MOV         R0,#0x1
 00000040  2180      MOV         R1,#0x80
 00000042  F7FF      BL          disp_string?T  ; T=0x0001  (1)
 00000044  FFDD      BL          disp_string?T  ; T=0x0001  (2)
 00000046            ; SCOPE-END
   58: }
 00000046  B002      ADD         R13,#0x8
 00000048  BC08      POP         {R3}
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 13  

 0000004A  4718      BX          R3
 0000004C          ENDP ; 'send_remote_frame?T'


*** CODE SEGMENT '?PR?Wait_for_data_frame?T?master':
   64: {
 00000000            ; SCOPE-START
   65: unsigned int CANIDnew=0, DatA,DatB;
 00000000  2100      MOV         R1,#0x0
 00000002  ---- Variable 'CANIDnew' assigned to Register 'R1' ----
   68: while( (C2GSR & 0x10)==0x10) ;  //wait until receiving complete.
 00000002          L_41:
 00000002  4800      LDR         R0,=0xE0048008
 00000004  6800      LDR         R0,[R0,#0x0]
 00000006  2210      MOV         R2,#0x10
 00000008  4210      TST         R0,R2
 0000000A  D1FA      BNE         L_41  ; T=0x00000002
   71: CANIDnew=C2RID;
 0000000C  4800      LDR         R0,=0xE0048024
 0000000E  6801      LDR         R1,[R0,#0x0]
   73: if(CANIDnew==(0x000000AB))
 00000010  1C08      MOV         R0,R1 ; CANIDnew
 00000012  28AB      CMP         R0,#0xAB ; CANIDnew
 00000014  D108      BNE         L_45  ; T=0x00000028
   76: DatA=C2RDA;
 00000016  4800      LDR         R0,=0xE0048028
 00000018  6801      LDR         R1,[R0,#0x0]
 0000001A  ---- Variable 'DatA' assigned to Register 'R1' ----
   77: DatB=C2RDB;
 0000001A  4800      LDR         R0,=0xE004802C
 0000001C  6800      LDR         R0,[R0,#0x0]
   79: C2CMR = 0x00000004; //release receiver
 0000001E  2204      MOV         R2,#0x4
 00000020  4800      LDR         R0,=0xE0048004
 00000022  6002      STR         R2,[R0,#0x0]
   80: return(DatA);
 00000024  1C08      MOV         R0,R1 ; DatA
 00000026  E000      B           L_46  ; T=0x0000002A
   81: }
 00000028          L_45:
   82: return 0;       
 00000028  2000      MOV         R0,#0x0
 0000002A            ; SCOPE-END
   83: }
 0000002A          L_46:
 0000002A  4770      BX          R14
 0000002C          ENDP ; 'Wait_for_data_frame?T'


*** CODE SEGMENT '?PR?Wait_for_remote_frame?T?master':
   89: char Wait_for_remote_frame(void)
 00000000  B510      PUSH        {R4,LR}
   90: {
 00000002            ; SCOPE-START
   91: unsigned int CANIDnew=0,DatB,DatA;
 00000002  2400      MOV         R4,#0x0
 00000004  ---- Variable 'CANIDnew' assigned to Register 'R4' ----
   92: disp_string(1,0x80,"in loop");
 00000004  4800      LDR         R2,=??S_2 ; ??S_2
 00000006  2001      MOV         R0,#0x1
 00000008  2180      MOV         R1,#0x80
 0000000A  F7FF      BL          disp_string?T  ; T=0x0001  (1)
 0000000C  FFF9      BL          disp_string?T  ; T=0x0001  (2)
   95: while( ( (C2GSR & 0x00000010)==0x00000010) );   //wait until receiving complete.
 0000000E          L_54:
 0000000E          L_51:
 0000000E  4800      LDR         R0,=0xE0048008
 00000010  6800      LDR         R0,[R0,#0x0]
 00000012  2110      MOV         R1,#0x10
 00000014  4208      TST         R0,R1
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 14  

 00000016  D1FA      BNE         L_51  ; T=0x0000000E
   97: if((C2RFS & 0x40000000)==0x40000000)    //RTR == 1 remote frame
 00000018  4800      LDR         R0,=0xE0048020
 0000001A  6800      LDR         R0,[R0,#0x0]
 0000001C  4800      LDR         R1,=0x40000000
 0000001E  4008      AND         R0,R1
 00000020  4800      LDR         R1,=0xC0000000
 00000022  42C8      CMN         R0,R1
 00000024  D112      BNE         L_59  ; T=0x0000004C
   99: CANIDnew=C2RID;
 00000026  4800      LDR         R0,=0xE0048024
 00000028  6804      LDR         R4,[R0,#0x0]
  101: if(CANIDnew==(0x000000CF))
 0000002A  1C20      MOV         R0,R4 ; CANIDnew
 0000002C  28CF      CMP         R0,#0xCF ; CANIDnew
 0000002E  D108      BNE         L_56  ; T=0x00000042
  104: DatA=C2RDA;
 00000030  4800      LDR         R0,=0xE0048028
 00000032  6800      LDR         R0,[R0,#0x0]
  105: DatB=C2RDB;
 00000034  4800      LDR         R0,=0xE004802C
 00000036  6800      LDR         R0,[R0,#0x0]
  106: C2CMR = 0x00000004; //release receiver
 00000038  2104      MOV         R1,#0x4
 0000003A  4800      LDR         R0,=0xE0048004
 0000003C  6001      STR         R1,[R0,#0x0]
  107: return(1);
 0000003E  2001      MOV         R0,#0x1
 00000040  E008      B           L_57  ; T=0x00000054
  108: }
 00000042          L_56:
  110:         C2CMR = 0x00000004; 
 00000042  2104      MOV         R1,#0x4
 00000044  4800      LDR         R0,=0xE0048004
 00000046  6001      STR         R1,[R0,#0x0]
  111:         return(0);
 00000048  2000      MOV         R0,#0x0
 0000004A  E003      B           L_57  ; T=0x00000054
  114:         else;
 0000004C          L_59:
  115:         C2CMR = 0x00000004; //release receiver
 0000004C  2204      MOV         R2,#0x4
 0000004E  4800      LDR         R1,=0xE0048004
 00000050  600A      STR         R2,[R1,#0x0]
  116: }
 00000052  E7DC      B           L_54  ; T=0x0000000E
 00000054            ; SCOPE-END
  118: }
 00000054          L_57:
 00000054  BC10      POP         {R4}
 00000056  BC08      POP         {R3}
 00000058  4718      BX          R3
 0000005A          ENDP ; 'Wait_for_remote_frame?T'


*** CODE SEGMENT '?PR?SendMessage?T?master':
  121: void SendMessage(unsigned int x,unsigned int y)
 00000000  ---- Variable 'y' assigned to Register 'R1' ----
 00000000  ---- Variable 'x' assigned to Register 'R0' ----
  122: {
 00000000            ; SCOPE-START
  125: while((C2SR & 0x00000004)!=0x00000004);
 00000000          L_60:
 00000000  4800      LDR         R2,=0xE004801C
 00000002  6812      LDR         R2,[R2,#0x0]
 00000004  2304      MOV         R3,#0x4
 00000006  421A      TST         R2,R3
 00000008  D0FA      BEQ         L_60  ; T=0x00000000
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 15  

  127: C2TFI1 = 0x00010000; 
 0000000A  4800      LDR         R3,=0x10000
 0000000C  4800      LDR         R2,=0xE0048030
 0000000E  6013      STR         R3,[R2,#0x0]
  128: C2TDA1 = y;
 00000010  1C0A      MOV         R2,R1 ; y
 00000012  4800      LDR         R1,=0xE0048038
 00000014  600A      STR         R2,[R1,#0x0]
  129: C2TDB1 = 0;
 00000016  2200      MOV         R2,#0x0
 00000018  4800      LDR         R1,=0xE004803C
 0000001A  600A      STR         R2,[R1,#0x0]
  130: C2TID1 = x;
 0000001C  1C01      MOV         R1,R0 ; x
 0000001E  4800      LDR         R0,=0xE0048034
 00000020  6001      STR         R1,[R0,#0x0]
  133: C2CMR = 0x21;
 00000022  2121      MOV         R1,#0x21
 00000024  4800      LDR         R0,=0xE0048004
 00000026  6001      STR         R1,[R0,#0x0]
  135: status = C2GSR; 
 00000028  4800      LDR         R0,=0xE0048008
 0000002A  6800      LDR         R0,[R0,#0x0]
 0000002C  ---- Variable 'status' assigned to Register 'R0' ----
  136: while((status & 0x00000008) != 0x00000008)
 0000002C  E001      B           L_64  ; T=0x00000032
 0000002E          L_66:
  137: status = C2GSR; 
 0000002E  4800      LDR         R0,=0xE0048008
 00000030  6800      LDR         R0,[R0,#0x0]
 00000032          L_64:
 00000032  1C01      MOV         R1,R0 ; status
 00000034  2208      MOV         R2,#0x8
 00000036  4211      TST         R1,R2 ; status
 00000038  D0F9      BEQ         L_66  ; T=0x0000002E
 0000003A            ; SCOPE-END
  142: }
 0000003A  4770      BX          R14
 0000003C          ENDP ; 'SendMessage?T'


*** CODE SEGMENT '?PR?SendMessage1?T?master':
  143: void SendMessage1(unsigned int x,unsigned int y,unsigned int z)
 00000000  B410      PUSH        {R4}
 00000002  1C13      MOV         R3,R2 ; z
 00000004  ---- Variable 'z' assigned to Register 'R3' ----
 00000004  ---- Variable 'y' assigned to Register 'R1' ----
 00000004  ---- Variable 'x' assigned to Register 'R0' ----
  144: {
 00000004            ; SCOPE-START
  147: while((C2SR & 0x00000004)!=0x00000004);
 00000004          L_68:
 00000004  4800      LDR         R2,=0xE004801C
 00000006  6812      LDR         R2,[R2,#0x0]
 00000008  2404      MOV         R4,#0x4
 0000000A  4222      TST         R2,R4
 0000000C  D0FA      BEQ         L_68  ; T=0x00000004
  149: C2TFI1 = 0x00080000; 
 0000000E  4800      LDR         R4,=0x80000
 00000010  4800      LDR         R2,=0xE0048030
 00000012  6014      STR         R4,[R2,#0x0]
  150: C2TDA1 = y;
 00000014  1C0A      MOV         R2,R1 ; y
 00000016  4800      LDR         R1,=0xE0048038
 00000018  600A      STR         R2,[R1,#0x0]
  151: C2TDB1 = z;
 0000001A  1C1A      MOV         R2,R3 ; z
 0000001C  4800      LDR         R1,=0xE004803C
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 16  

 0000001E  600A      STR         R2,[R1,#0x0]
  152: C2TID1 = x;
 00000020  1C01      MOV         R1,R0 ; x
 00000022  4800      LDR         R0,=0xE0048034
 00000024  6001      STR         R1,[R0,#0x0]
  155: C2CMR = 0x21;
 00000026  2121      MOV         R1,#0x21
 00000028  4800      LDR         R0,=0xE0048004
 0000002A  6001      STR         R1,[R0,#0x0]
  157: status = C2GSR; 
 0000002C  4800      LDR         R0,=0xE0048008
 0000002E  6800      LDR         R0,[R0,#0x0]
 00000030  ---- Variable 'status' assigned to Register 'R0' ----
  158: while((status & 0x00000008) != 0x00000008)
 00000030  E001      B           L_72  ; T=0x00000036
 00000032          L_74:
  159: status = C2GSR; 
 00000032  4800      LDR         R0,=0xE0048008
 00000034  6800      LDR         R0,[R0,#0x0]
 00000036          L_72:
 00000036  1C01      MOV         R1,R0 ; status
 00000038  2208      MOV         R2,#0x8
 0000003A  4211      TST         R1,R2 ; status
 0000003C  D0F9      BEQ         L_74  ; T=0x00000032
  161: C2CMR=0X00;
 0000003E  2100      MOV         R1,#0x0
 00000040  4800      LDR         R0,=0xE0048004
 00000042  6001      STR         R1,[R0,#0x0]
 00000044            ; SCOPE-END
  165: }
 00000044  BC10      POP         {R4}
 00000046  4770      BX          R14
 00000048          ENDP ; 'SendMessage1?T'


*** CODE SEGMENT '?PR?ReceiveMessage?T?master':
  168: int ReceiveMessage (void)
 00000000  B500      PUSH        {LR}
 00000002  B081      SUB         R13,#0x4
  169: {
 00000004            ; SCOPE-START
  173: len = C2RFS;
 00000004  4800      LDR         R0,=0xE0048020
 00000006  6800      LDR         R0,[R0,#0x0]
  174: id = C2RID;
 00000008  4800      LDR         R0,=0xE0048024
 0000000A  6801      LDR         R1,[R0,#0x0]
 0000000C  ---- Variable 'id' assigned to Register 'R1' ----
  175: data = C2RDA;
 0000000C  4800      LDR         R0,=0xE0048028
 0000000E  6802      LDR         R2,[R0,#0x0]
 00000010  0612      LSL         R2,R2,#0x18
 00000012  0E12      LSR         R2,R2,#0x18
 00000014  A800      ADD         R0,R13,#0x0
 00000016  7002      STRB        R2,[R0,#0x0] ; data
  176: if(id == 0x000000CF) {
 00000018  1C08      MOV         R0,R1 ; id
 0000001A  28CF      CMP         R0,#0xCF ; id
 0000001C  D10A      BNE         L_76  ; T=0x00000034
  177: disp_string(0,0x80,"correct");
 0000001E  4800      LDR         R2,=??S_3 ; ??S_3
 00000020  2000      MOV         R0,#0x0
 00000022  2180      MOV         R1,#0x80
 00000024  F7FF      BL          disp_string?T  ; T=0x0001  (1)
 00000026  FFEC      BL          disp_string?T  ; T=0x0001  (2)
  178: disp_string(0,0xc0,&data);
 00000028  AA00      ADD         R2,R13,#0x0
 0000002A  2000      MOV         R0,#0x0
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 17  

 0000002C  21C0      MOV         R1,#0xC0
 0000002E  F7FF      BL          disp_string?T  ; T=0x0001  (1)
 00000030  FFE7      BL          disp_string?T  ; T=0x0001  (2)
  180: }
 00000032  E004      B           L_77  ; T=0x0000003E
 00000034          L_76:
  183: disp_string(1,0x80,"wrong");
 00000034  4800      LDR         R2,=??S_4 ; ??S_4
 00000036  2001      MOV         R0,#0x1
 00000038  2180      MOV         R1,#0x80
 0000003A  F7FF      BL          disp_string?T  ; T=0x0001  (1)
 0000003C  FFE1      BL          disp_string?T  ; T=0x0001  (2)
  184: }
 0000003E          L_77:
  185: C2CMR = 0x04;   
 0000003E  2104      MOV         R1,#0x4
 00000040  4800      LDR         R0,=0xE0048004
 00000042  6001      STR         R1,[R0,#0x0]
  186: return 0;
 00000044  2000      MOV         R0,#0x0
 00000046            ; SCOPE-END
  188: }
 00000046  B001      ADD         R13,#0x4
 00000048  BC08      POP         {R3}
 0000004A  4718      BX          R3
 0000004C          ENDP ; 'ReceiveMessage?T'


*** CODE SEGMENT '?PR?Init_UART0?T?master':
    5: PINSEL0&=0xFFFFFFF0;
 00000000  220F      MOV         R2,#0xF
 00000002  4800      LDR         R0,=0xE002C000
 00000004  6801      LDR         R1,[R0,#0x0]
 00000006  4391      BIC         R1,R2
 00000008  6001      STR         R1,[R0,#0x0]
    6: PINSEL0|=0x00000005;
 0000000A  2205      MOV         R2,#0x5
 0000000C  4800      LDR         R0,=0xE002C000
 0000000E  6801      LDR         R1,[R0,#0x0]
 00000010  4311      ORR         R1,R2
 00000012  6001      STR         R1,[R0,#0x0]
    7: U0LCR=0x83;
 00000014  2183      MOV         R1,#0x83
 00000016  4800      LDR         R0,=0xE000C00C
 00000018  7001      STRB        R1,[R0,#0x0]
    8: U0DLL=0x51; //97
 0000001A  2151      MOV         R1,#0x51
 0000001C  4800      LDR         R0,=0xE000C000
 0000001E  7001      STRB        R1,[R0,#0x0]
    9: U0DLM=0x00;
 00000020  2100      MOV         R1,#0x0
 00000022  4800      LDR         R0,=0xE000C004
 00000024  7001      STRB        R1,[R0,#0x0]
   10: U0LCR=0x03;
 00000026  2103      MOV         R1,#0x3
 00000028  4800      LDR         R0,=0xE000C00C
 0000002A  7001      STRB        R1,[R0,#0x0]
   11: U0FCR=0x01;
 0000002C  2101      MOV         R1,#0x1
 0000002E  4800      LDR         R0,=0xE000C008
 00000030  7001      STRB        R1,[R0,#0x0]
   12: }
 00000032  4770      BX          R14
 00000034          ENDP ; 'Init_UART0?T'


*** CODE SEGMENT '?PR?Init_UART1?T?master':
   16: PINSEL0&=0xFFF0FFFF;
 00000000  4800      LDR         R2,=0xF0000
 00000002  4800      LDR         R0,=0xE002C000
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 18  

 00000004  6801      LDR         R1,[R0,#0x0]
 00000006  4391      BIC         R1,R2
 00000008  6001      STR         R1,[R0,#0x0]
   17: PINSEL0|=0x00050000;
 0000000A  4800      LDR         R2,=0x50000
 0000000C  4800      LDR         R0,=0xE002C000
 0000000E  6801      LDR         R1,[R0,#0x0]
 00000010  4311      ORR         R1,R2
 00000012  6001      STR         R1,[R0,#0x0]
   18: U1LCR=0x83;
 00000014  2183      MOV         R1,#0x83
 00000016  4800      LDR         R0,=0xE001000C
 00000018  7001      STRB        R1,[R0,#0x0]
   19: U1DLL=0x51; //97
 0000001A  2151      MOV         R1,#0x51
 0000001C  4800      LDR         R0,=0xE0010000
 0000001E  7001      STRB        R1,[R0,#0x0]
   20: U1DLM=0x00;
 00000020  2100      MOV         R1,#0x0
 00000022  4800      LDR         R0,=0xE0010004
 00000024  7001      STRB        R1,[R0,#0x0]
   21: U1LCR=0x03;
 00000026  2103      MOV         R1,#0x3
 00000028  4800      LDR         R0,=0xE001000C
 0000002A  7001      STRB        R1,[R0,#0x0]
   22: U1FCR=0x01;
 0000002C  2101      MOV         R1,#0x1
 0000002E  4800      LDR         R0,=0xE0010008
 00000030  7001      STRB        R1,[R0,#0x0]
   23: } 
 00000032  4770      BX          R14
 00000034          ENDP ; 'Init_UART1?T'


*** CODE SEGMENT '?PR?read_byte_u1?T?master':
   26: {
 00000000            ; SCOPE-START
   28: while((U1LSR&0x01)==0x00);
 00000000          L_79:
 00000000  4800      LDR         R0,=0xE0010014
 00000002  7800      LDRB        R0,[R0,#0x0]
 00000004  2101      MOV         R1,#0x1
 00000006  4208      TST         R0,R1
 00000008  D0FA      BEQ         L_79  ; T=0x00000000
   29: rec=U1RBR;
 0000000A  4800      LDR         R0,=0xE0010000
 0000000C  7801      LDRB        R1,[R0,#0x0]
 0000000E  ---- Variable 'rec' assigned to Register 'R1' ----
   30: return(rec);
 0000000E  1C08      MOV         R0,R1 ; rec
 00000010  0600      LSL         R0,R0,#0x18 ; rec
 00000012  0E00      LSR         R0,R0,#0x18
 00000014            ; SCOPE-END
   31: }
 00000014  4770      BX          R14
 00000016          ENDP ; 'read_byte_u1?T'


*** CODE SEGMENT '?PR?read_byte_u0?T?master':
   34: {
 00000000            ; SCOPE-START
   36: while((U0LSR&0x01)==0x00);
 00000000          L_84:
 00000000  4800      LDR         R0,=0xE000C014
 00000002  7800      LDRB        R0,[R0,#0x0]
 00000004  2101      MOV         R1,#0x1
 00000006  4208      TST         R0,R1
 00000008  D0FA      BEQ         L_84  ; T=0x00000000
   37: rec=U0RBR;
 0000000A  4800      LDR         R0,=0xE000C000
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 19  

 0000000C  7801      LDRB        R1,[R0,#0x0]
 0000000E  ---- Variable 'rec' assigned to Register 'R1' ----
   38: return(rec);
 0000000E  1C08      MOV         R0,R1 ; rec
 00000010  0600      LSL         R0,R0,#0x18 ; rec
 00000012  0E00      LSR         R0,R0,#0x18
 00000014            ; SCOPE-END
   39: }
 00000014  4770      BX          R14
 00000016          ENDP ; 'read_byte_u0?T'


*** CODE SEGMENT '?PR?send_byte_u0?T?master':
   42: void send_byte_u0(char snd)
 00000000  1C02      MOV         R2,R0 ; snd
 00000002  ---- Variable 'snd' assigned to Register 'R2' ----
   44: U0THR=snd;
 00000002  1C11      MOV         R1,R2 ; snd
 00000004  4800      LDR         R0,=0xE000C000
 00000006  7001      STRB        R1,[R0,#0x0]
   45: while((U0LSR&0x40)==0);
 00000008          L_89:
 00000008  4800      LDR         R0,=0xE000C014
 0000000A  7800      LDRB        R0,[R0,#0x0]
 0000000C  2140      MOV         R1,#0x40
 0000000E  4208      TST         R0,R1
 00000010  D0FA      BEQ         L_89  ; T=0x00000008
   46: }
 00000012  4770      BX          R14
 00000014          ENDP ; 'send_byte_u0?T'


*** CODE SEGMENT '?PR?send_wait_u0?T?master':
   49: char send_wait_u0(char snd,char rec1,char rec2)
 00000000  B5F0      PUSH        {R4-R7,LR}
 00000002  1C17      MOV         R7,R2 ; rec2
 00000004  ---- Variable 'rec2' assigned to Register 'R7' ----
 00000004  1C0E      MOV         R6,R1 ; rec1
 00000006  ---- Variable 'rec1' assigned to Register 'R6' ----
 00000006  1C05      MOV         R5,R0 ; snd
 00000008  ---- Variable 'snd' assigned to Register 'R5' ----
 00000008  B081      SUB         R13,#0x4
 0000000A  ---- Variable 'tst' assigned to Register 'R4' ----
   50: {
 0000000A            ; SCOPE-START
   54: while(1)
 0000000A          L_95:
   57: U0THR=snd;
 0000000A  1C29      MOV         R1,R5 ; snd
 0000000C  4800      LDR         R0,=0xE000C000
 0000000E  7001      STRB        R1,[R0,#0x0]
   58: while((U0LSR&0x40)==0);
 00000010          L_97:
 00000010  4800      LDR         R0,=0xE000C014
 00000012  7800      LDRB        R0,[R0,#0x0]
 00000014  2140      MOV         R1,#0x40
 00000016  4208      TST         R0,R1
 00000018  D0FA      BEQ         L_97  ; T=0x00000010
   59: i=0;
 0000001A  2000      MOV         R0,#0x0
 0000001C  9000      STR         R0,[R13,#0x0] ; i
   61: do
 0000001E          L_101:
   64: if((U0LSR&0x01)==0x01)
 0000001E  4800      LDR         R0,=0xE000C014
 00000020  7800      LDRB        R0,[R0,#0x0]
 00000022  2101      MOV         R1,#0x1
 00000024  4008      AND         R0,R1
 00000026  2801      CMP         R0,#0x1
 00000028  D101      BNE         L_105  ; T=0x0000002E
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 20  

   66: tst=U0RBR;
 0000002A  4800      LDR         R0,=0xE000C000
 0000002C  7804      LDRB        R4,[R0,#0x0]
   67: }
 0000002E          L_105:
   68: delay_10us(50);
 0000002E  2032      MOV         R0,#0x32
 00000030  F7FF      BL          delay_10us?T  ; T=0x0001  (1)
 00000032  FFE6      BL          delay_10us?T  ; T=0x0001  (2)
   69: i++;
 00000034  9800      LDR         R0,[R13,#0x0] ; i
 00000036  3001      ADD         R0,#0x1
 00000038  9000      STR         R0,[R13,#0x0] ; i
   71: }
 0000003A  1C30      MOV         R0,R6 ; rec1
 0000003C  0601      LSL         R1,R0,#0x18 ; rec1
 0000003E  0E09      LSR         R1,R1,#0x18
 00000040  1C20      MOV         R0,R4 ; tst
 00000042  0600      LSL         R0,R0,#0x18 ; tst
 00000044  0E00      LSR         R0,R0,#0x18
 00000046  4288      CMP         R0,R1
 00000048  D00B      BEQ         L_104  ; T=0x00000062
 0000004A  1C38      MOV         R0,R7 ; rec2
 0000004C  0601      LSL         R1,R0,#0x18 ; rec2
 0000004E  0E09      LSR         R1,R1,#0x18
 00000050  1C20      MOV         R0,R4 ; tst
 00000052  0600      LSL         R0,R0,#0x18 ; tst
 00000054  0E00      LSR         R0,R0,#0x18
 00000056  4288      CMP         R0,R1
 00000058  D003      BEQ         L_104  ; T=0x00000062
 0000005A  9800      LDR         R0,[R13,#0x0] ; i
 0000005C  4800      LDR         R1,=0x7D0
 0000005E  4288      CMP         R0,R1
 00000060  D3DD      BCC         L_101  ; T=0x0000001E
 00000062          L_104:
   74: if( ( (tst==rec1)||(tst==rec2) ) )
 00000062  1C30      MOV         R0,R6 ; rec1
 00000064  0601      LSL         R1,R0,#0x18 ; rec1
 00000066  0E09      LSR         R1,R1,#0x18
 00000068  1C20      MOV         R0,R4 ; tst
 0000006A  0600      LSL         R0,R0,#0x18 ; tst
 0000006C  0E00      LSR         R0,R0,#0x18
 0000006E  4288      CMP         R0,R1
 00000070  D007      BEQ         L_94  ; T=0x00000082
 00000072  1C38      MOV         R0,R7 ; rec2
 00000074  0601      LSL         R1,R0,#0x18 ; rec2
 00000076  0E09      LSR         R1,R1,#0x18
 00000078  1C20      MOV         R0,R4 ; tst
 0000007A  0600      LSL         R0,R0,#0x18 ; tst
 0000007C  0E00      LSR         R0,R0,#0x18
 0000007E  4288      CMP         R0,R1
 00000080  D1C3      BNE         L_95  ; T=0x0000000A
   76: }
 00000082          L_94:
   78: return(tst);
 00000082  1C20      MOV         R0,R4 ; tst
 00000084  0600      LSL         R0,R0,#0x18 ; tst
 00000086  0E00      LSR         R0,R0,#0x18
 00000088            ; SCOPE-END
   79: }
 00000088  B001      ADD         R13,#0x4
 0000008A  BCF0      POP         {R4-R7}
 0000008C  BC08      POP         {R3}
 0000008E  4718      BX          R3
 00000090          ENDP ; 'send_wait_u0?T'


*** CODE SEGMENT '?PR?send_string_u0?T?master':
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 21  

   81: void send_string_u0(char *ptr)
 00000000  ---- Variable 'ptr' assigned to Register 'R0' ----
   82: {
 00000000            ; SCOPE-START
   84: for(i=0;ptr[i]!='\0';i++)
 00000000  2100      MOV         R1,#0x0
 00000002  ---- Variable 'i' assigned to Register 'R1' ----
 00000002  E00A      B           L_112  ; T=0x0000001A
 00000004          L_113:
   86:  U0THR=ptr[i];
 00000004  1C0B      MOV         R3,R1 ; i
 00000006  1C02      MOV         R2,R0 ; ptr
 00000008  5CD3      LDRB        R3,[R2,R3]
 0000000A  4800      LDR         R2,=0xE000C000
 0000000C  7013      STRB        R3,[R2,#0x0]
   87: while((U0LSR&0x40)==0);
 0000000E          L_115:
 0000000E  4800      LDR         R2,=0xE000C014
 00000010  7812      LDRB        R2,[R2,#0x0]
 00000012  2340      MOV         R3,#0x40
 00000014  421A      TST         R2,R3
 00000016  D0FA      BEQ         L_115  ; T=0x0000000E
   88: }
 00000018  3101      ADD         R1,#0x1
 0000001A          L_112:
 0000001A  1C0B      MOV         R3,R1 ; i
 0000001C  1C02      MOV         R2,R0 ; ptr
 0000001E  5CD2      LDRB        R2,[R2,R3]
 00000020  2A00      CMP         R2,#0x0
 00000022  D1EF      BNE         L_113  ; T=0x00000004
 00000024            ; SCOPE-END
   89: }
 00000024  4770      BX          R14
 00000026          ENDP ; 'send_string_u0?T'


*** CODE SEGMENT '?PR?clear_buffer_u1?T?master':
   91: void clear_buffer_u1(void)
 00000000  B500      PUSH        {LR}
   93: U1FCR|=0x02; //reset rx fifo. this bit becomes zero after cleareing the buffer
 00000002  2202      MOV         R2,#0x2
 00000004  4800      LDR         R0,=0xE0010008
 00000006  7801      LDRB        R1,[R0,#0x0]
 00000008  4311      ORR         R1,R2
 0000000A  7001      STRB        R1,[R0,#0x0]
   94: while( ( (U1FCR&0x02)==0x02) );
 0000000C          L_119:
 0000000C  4800      LDR         R0,=0xE0010008
 0000000E  7800      LDRB        R0,[R0,#0x0]
 00000010  2102      MOV         R1,#0x2
 00000012  4208      TST         R0,R1
 00000014  D1FA      BNE         L_119  ; T=0x0000000C
   95: delay_ms(5);
 00000016  2005      MOV         R0,#0x5
 00000018  F7FF      BL          delay_ms?T  ; T=0x0001  (1)
 0000001A  FFF2      BL          delay_ms?T  ; T=0x0001  (2)
   96: }
 0000001C  BC08      POP         {R3}
 0000001E  4718      BX          R3
 00000020          ENDP ; 'clear_buffer_u1?T'


*** CODE SEGMENT '?PR?clear_buffer_u0?T?master':
   98: void clear_buffer_u0(void)
 00000000  B500      PUSH        {LR}
  100: U0FCR|=0x02; //reset rx fifo. this bit becomes zero after cleareing the buffer
 00000002  2202      MOV         R2,#0x2
 00000004  4800      LDR         R0,=0xE000C008
 00000006  7801      LDRB        R1,[R0,#0x0]
 00000008  4311      ORR         R1,R2
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 22  

 0000000A  7001      STRB        R1,[R0,#0x0]
  101: delay_ms(5);
 0000000C  2005      MOV         R0,#0x5
 0000000E  F7FF      BL          delay_ms?T  ; T=0x0001  (1)
 00000010  FFF7      BL          delay_ms?T  ; T=0x0001  (2)
 00000012  BC08      POP         {R3}
 00000014  4718      BX          R3
 00000016          ENDP ; 'clear_buffer_u0?T'


*** CODE SEGMENT '?PR?main?master':
    8: int main(void)
 00000000  B500      PUSH        {LR}
 00000002  B084      SUB         R13,#0x10
    9: {
 00000004            ; SCOPE-START
   11: unsigned int val=0,val1=0;
 00000004  2400      MOV         R4,#0x0
 00000006  1C27      MOV         R7,R4 ; val
 00000008  ---- Variable 'val' assigned to Register 'R7' ----
 00000008  1C26      MOV         R6,R4 ; val1
 0000000A  ---- Variable 'val1' assigned to Register 'R6' ----
   12: unsigned int val2=0,val3=0; 
 0000000A  1C25      MOV         R5,R4 ; val2
 0000000C  ---- Variable 'val2' assigned to Register 'R5' ----
 0000000C  ---- Variable 'val3' assigned to Register 'R4' ----
   13: IODIR1 = 0X00FF0000;
 0000000C  4800      LDR         R1,=0xFF0000
 0000000E  4800      LDR         R0,=0xE0028018
 00000010  6001      STR         R1,[R0,#0x0]
   14: IOCLR1 = 0x00FF0000;
 00000012  4800      LDR         R0,=0xE002801C
 00000014  6001      STR         R1,[R0,#0x0]
   16: Can_Init();
 00000016  F7FF      BL          Can_Init?T  ; T=0x0001  (1)
 00000018  FFF3      BL          Can_Init?T  ; T=0x0001  (2)
   17: init_4bit_lcd();
 0000001A  F7FF      BL          init_4bit_lcd?T  ; T=0x0001  (1)
 0000001C  FFF1      BL          init_4bit_lcd?T  ; T=0x0001  (2)
   18: Init_UART0();
 0000001E  F7FF      BL          Init_UART0?T  ; T=0x0001  (1)
 00000020  FFEF      BL          Init_UART0?T  ; T=0x0001  (2)
   19: disp_string(1,0x80,"master");
 00000022  4800      LDR         R2,=??S_5 ; ??S_5
 00000024  2001      MOV         R0,#0x1
 00000026  2180      MOV         R1,#0x80
 00000028  F7FF      BL          disp_string?T  ; T=0x0001  (1)
 0000002A  FFEA      BL          disp_string?T  ; T=0x0001  (2)
   20: send_string_u0("Master..");
 0000002C  4800      LDR         R0,=??S_6 ; ??S_6
 0000002E  F7FF      BL          send_string_u0?T  ; T=0x0001  (1)
 00000030  FFE7      BL          send_string_u0?T  ; T=0x0001  (2)
   21: send_string_u0("\n\r");
 00000032  4800      LDR         R0,=??S_7 ; ??S_7
 00000034  F7FF      BL          send_string_u0?T  ; T=0x0001  (1)
 00000036  FFE4      BL          send_string_u0?T  ; T=0x0001  (2)
   23:         while((C2GSR&0X10)!=0X10);
 00000038          L_130:
 00000038          L_127:
 00000038  4800      LDR         R0,=0xE0048008
 0000003A  6800      LDR         R0,[R0,#0x0]
 0000003C  2110      MOV         R1,#0x10
 0000003E  4208      TST         R0,R1
 00000040  D0FA      BEQ         L_127  ; T=0x00000038
   24:         val=((C2RDA&0xFFFF0000)>>16);
 00000042  4800      LDR         R0,=0xE0048028
 00000044  6807      LDR         R7,[R0,#0x0]
 00000046  4800      LDR         R1,=0xFFFF0000
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 23  

 00000048  400F      AND         R7,R1
 0000004A  0C3F      LSR         R7,R7,#0x10
   25:         val1=(C2RDA&0xFFFF);
 0000004C  4800      LDR         R0,=0xE0048028
 0000004E  6806      LDR         R6,[R0,#0x0]
 00000050  4800      LDR         R0,=0xFFFF
 00000052  4006      AND         R6,R0
   26:         val2=((C2RDB&0xFFFF0000)>>16);
 00000054  4800      LDR         R2,=0xE004802C
 00000056  6815      LDR         R5,[R2,#0x0]
 00000058  400D      AND         R5,R1
 0000005A  0C2D      LSR         R5,R5,#0x10
   27:         val3=(C2RDB&0xFFFF);
 0000005C  4800      LDR         R1,=0xE004802C
 0000005E  680C      LDR         R4,[R1,#0x0]
 00000060  4004      AND         R4,R0
   29:         sprintf(dt,"   Temp: %2d dC  ",val);
 00000062  A800      ADD         R0,R13,#0x0
 00000064  4800      LDR         R1,=??S_8 ; ??S_8
 00000066  1C3A      MOV         R2,R7 ; val
 00000068  F7FF      BL          sprintf?T  ; T=0x0001  (1)
 0000006A  FFCA      BL          sprintf?T  ; T=0x0001  (2)
   30:         disp_string(0,0x80,dt);
 0000006C  AA00      ADD         R2,R13,#0x0
 0000006E  2000      MOV         R0,#0x0
 00000070  2180      MOV         R1,#0x80
 00000072  F7FF      BL          disp_string?T  ; T=0x0001  (1)
 00000074  FFC5      BL          disp_string?T  ; T=0x0001  (2)
   31:         send_string_u0(dt);
 00000076  A800      ADD         R0,R13,#0x0
 00000078  F7FF      BL          send_string_u0?T  ; T=0x0001  (1)
 0000007A  FFC2      BL          send_string_u0?T  ; T=0x0001  (2)
   32:         send_string_u0("\n\r");
 0000007C  4800      LDR         R0,=??S_7 ; ??S_7
 0000007E  F7FF      BL          send_string_u0?T  ; T=0x0001  (1)
 00000080  FFBF      BL          send_string_u0?T  ; T=0x0001  (2)
   35:         sprintf(dt,"     CO: %3d     ",val1);
 00000082  A800      ADD         R0,R13,#0x0
 00000084  4800      LDR         R1,=??S_9 ; ??S_9
 00000086  1C32      MOV         R2,R6 ; val1
 00000088  F7FF      BL          sprintf?T  ; T=0x0001  (1)
 0000008A  FFBA      BL          sprintf?T  ; T=0x0001  (2)
   36:         send_string_u0(dt);
 0000008C  A800      ADD         R0,R13,#0x0
 0000008E  F7FF      BL          send_string_u0?T  ; T=0x0001  (1)
 00000090  FFB7      BL          send_string_u0?T  ; T=0x0001  (2)
   37:         send_string_u0("\n\r");
 00000092  4800      LDR         R0,=??S_7 ; ??S_7
 00000094  F7FF      BL          send_string_u0?T  ; T=0x0001  (1)
 00000096  FFB4      BL          send_string_u0?T  ; T=0x0001  (2)
   39:           if(val>60){
 00000098  1C38      MOV         R0,R7 ; val
 0000009A  283C      CMP         R0,#0x3C ; val
 0000009C  D90C      BLS         L_131  ; T=0x000000B8
   40:             disp_string(0,0x80,"High Temperature");
 0000009E  4800      LDR         R2,=??S_10 ; ??S_10
 000000A0  2000      MOV         R0,#0x0
 000000A2  2180      MOV         R1,#0x80
 000000A4  F7FF      BL          disp_string?T  ; T=0x0001  (1)
 000000A6  FFAC      BL          disp_string?T  ; T=0x0001  (2)
   41:             disp_string(0,0xc0," Vehicle OFF!!! ");
 000000A8  4800      LDR         R2,=??S_11 ; ??S_11
 000000AA  2000      MOV         R0,#0x0
 000000AC  21C0      MOV         R1,#0xC0
 000000AE  F7FF      BL          disp_string?T  ; T=0x0001  (1)
 000000B0  FFA7      BL          disp_string?T  ; T=0x0001  (2)
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 24  

   42:             send_string_u0("High Temperature!!!\n\rVehicle OFF!!!\n\r");    
 000000B2  4800      LDR         R0,=??S_12 ; ??S_12
 000000B4  F7FF      BL          send_string_u0?T  ; T=0x0001  (1)
 000000B6  FFA4      BL          send_string_u0?T  ; T=0x0001  (2)
   43:             }
 000000B8          L_131:
   45:         if(val1>390){
 000000B8  1C30      MOV         R0,R6 ; val1
 000000BA  4800      LDR         R1,=0x186
 000000BC  4288      CMP         R0,R1 ; val1
 000000BE  D90D      BLS         L_132  ; T=0x000000DC
   46:             disp_string(0,0x80,"  High CO Level ");
 000000C0  4800      LDR         R2,=??S_13 ; ??S_13
 000000C2  2000      MOV         R0,#0x0
 000000C4  2180      MOV         R1,#0x80
 000000C6  F7FF      BL          disp_string?T  ; T=0x0001  (1)
 000000C8  FF9B      BL          disp_string?T  ; T=0x0001  (2)
   47:             disp_string(0,0xc0," Vehicle OFF!!! ");
 000000CA  4800      LDR         R2,=??S_11 ; ??S_11
 000000CC  2000      MOV         R0,#0x0
 000000CE  21C0      MOV         R1,#0xC0
 000000D0  F7FF      BL          disp_string?T  ; T=0x0001  (1)
 000000D2  FF96      BL          disp_string?T  ; T=0x0001  (2)
   48:             send_string_u0("High CO Level\n\rVehicle OFF!!!\n\r");  
 000000D4  4800      LDR         R0,=??S_14 ; ??S_14
 000000D6  F7FF      BL          send_string_u0?T  ; T=0x0001  (1)
 000000D8  FF93      BL          send_string_u0?T  ; T=0x0001  (2)
   49:             }
 000000DA  E00A      B           L_133  ; T=0x000000F2
 000000DC          L_132:
   51:             disp_string(0,0xc0,"  Low CO level  ");
 000000DC  4800      LDR         R2,=??S_15 ; ??S_15
 000000DE  2000      MOV         R0,#0x0
 000000E0  21C0      MOV         R1,#0xC0
 000000E2  F7FF      BL          disp_string?T  ; T=0x0001  (1)
 000000E4  FF8D      BL          disp_string?T  ; T=0x0001  (2)
   52:             send_string_u0("Low CO level");
 000000E6  4800      LDR         R0,=??S_16 ; ??S_16
 000000E8  F7FF      BL          send_string_u0?T  ; T=0x0001  (1)
 000000EA  FF8A      BL          send_string_u0?T  ; T=0x0001  (2)
   53:             send_string_u0("\n\r");
 000000EC  4800      LDR         R0,=??S_7 ; ??S_7
 000000EE  F7FF      BL          send_string_u0?T  ; T=0x0001  (1)
 000000F0  FF87      BL          send_string_u0?T  ; T=0x0001  (2)
   54:             }
 000000F2          L_133:
   59:          sprintf(dt," Battery: %2d %  ",val2);
 000000F2  A800      ADD         R0,R13,#0x0
 000000F4  4800      LDR         R1,=??S_17 ; ??S_17
 000000F6  1C2A      MOV         R2,R5 ; val2
 000000F8  F7FF      BL          sprintf?T  ; T=0x0001  (1)
 000000FA  FF82      BL          sprintf?T  ; T=0x0001  (2)
   60:          disp_string(0,0x80,dt);
 000000FC  AA00      ADD         R2,R13,#0x0
 000000FE  2000      MOV         R0,#0x0
 00000100  2180      MOV         R1,#0x80
 00000102  F7FF      BL          disp_string?T  ; T=0x0001  (1)
 00000104  FF7D      BL          disp_string?T  ; T=0x0001  (2)
   61:           send_string_u0(dt);
 00000106  A800      ADD         R0,R13,#0x0
 00000108  F7FF      BL          send_string_u0?T  ; T=0x0001  (1)
 0000010A  FF7A      BL          send_string_u0?T  ; T=0x0001  (2)
   62:          send_string_u0("\n\r");
 0000010C  4800      LDR         R0,=??S_7 ; ??S_7
 0000010E  F7FF      BL          send_string_u0?T  ; T=0x0001  (1)
 00000110  FF77      BL          send_string_u0?T  ; T=0x0001  (2)
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 25  

   65:          sprintf(dt,"    Fuel %2d L   ",val3);
 00000112  A800      ADD         R0,R13,#0x0
 00000114  4800      LDR         R1,=??S_18 ; ??S_18
 00000116  1C22      MOV         R2,R4 ; val3
 00000118  F7FF      BL          sprintf?T  ; T=0x0001  (1)
 0000011A  FF72      BL          sprintf?T  ; T=0x0001  (2)
   66:          disp_string(0,0xC0,dt);
 0000011C  AA00      ADD         R2,R13,#0x0
 0000011E  2000      MOV         R0,#0x0
 00000120  21C0      MOV         R1,#0xC0
 00000122  F7FF      BL          disp_string?T  ; T=0x0001  (1)
 00000124  FF6D      BL          disp_string?T  ; T=0x0001  (2)
   67:          send_string_u0(dt);
 00000126  A800      ADD         R0,R13,#0x0
 00000128  F7FF      BL          send_string_u0?T  ; T=0x0001  (1)
 0000012A  FF6A      BL          send_string_u0?T  ; T=0x0001  (2)
   68:          send_string_u0("\n\r");
 0000012C  4800      LDR         R0,=??S_7 ; ??S_7
 0000012E  F7FF      BL          send_string_u0?T  ; T=0x0001  (1)
 00000130  FF67      BL          send_string_u0?T  ; T=0x0001  (2)
   70:          while((C2GSR&0X10)!=0X10);
 00000132          L_134:
 00000132  4800      LDR         R0,=0xE0048008
 00000134  6800      LDR         R0,[R0,#0x0]
 00000136  2110      MOV         R1,#0x10
 00000138  4208      TST         R0,R1
 0000013A  D0FA      BEQ         L_134  ; T=0x00000132
   71:          val2=C2RDA;
 0000013C  4800      LDR         R0,=0xE0048028
 0000013E  6805      LDR         R5,[R0,#0x0]
   72:          val3=C2RDB;
 00000140  4800      LDR         R0,=0xE004802C
 00000142  6804      LDR         R4,[R0,#0x0]
   73:          C2CMR = 0x00000004;    
 00000144  2104      MOV         R1,#0x4
 00000146  4800      LDR         R0,=0xE0048004
 00000148  6001      STR         R1,[R0,#0x0]
   75:          delay_ms(1000);
 0000014A  48FA      LDR         R0,=0x3E8
 0000014C  F7FF      BL          delay_ms?T  ; T=0x0001  (1)
 0000014E  FF58      BL          delay_ms?T  ; T=0x0001  (2)
   78:         if(val2==1){
 00000150  1C28      MOV         R0,R5 ; val2
 00000152  2801      CMP         R0,#0x1 ; val2
 00000154  D10B      BNE         L_138  ; T=0x0000016E
   79:           disp_string(0,0xc0,"Fire Detected...");
 00000156  4800      LDR         R2,=??S_19 ; ??S_19
 00000158  2000      MOV         R0,#0x0
 0000015A  21C0      MOV         R1,#0xC0
 0000015C  F7FF      BL          disp_string?T  ; T=0x0001  (1)
 0000015E  FF50      BL          disp_string?T  ; T=0x0001  (2)
   80:           send_string_u0(" Fire Detected\n\r");
 00000160  4800      LDR         R0,=??S_20 ; ??S_20
 00000162  F7FF      BL          send_string_u0?T  ; T=0x0001  (1)
 00000164  FF4D      BL          send_string_u0?T  ; T=0x0001  (2)
   81:           send_string_u0(" Vehicle OFF!!!\n\r");
 00000166  4800      LDR         R0,=??S_21 ; ??S_21
 00000168  F7FF      BL          send_string_u0?T  ; T=0x0001  (1)
 0000016A  FF4A      BL          send_string_u0?T  ; T=0x0001  (2)
   82:           }
 0000016C  E007      B           L_139  ; T=0x0000017E
 0000016E          L_138:
   84:           disp_string(0,0xc0,"No Fire");
 0000016E  4800      LDR         R2,=??S_22 ; ??S_22
 00000170  2000      MOV         R0,#0x0
 00000172  21C0      MOV         R1,#0xC0
ARM COMPILER V2.53,  master                                                                04/11/14  13:29:37  PAGE 26  

 00000174  F7FF      BL          disp_string?T  ; T=0x0001  (1)
 00000176  FF44      BL          disp_string?T  ; T=0x0001  (2)
   85:           send_string_u0(" No Fire\n\r");
 00000178  4800      LDR         R0,=??S_23 ; ??S_23
 0000017A  F7FF      BL          send_string_u0?T  ; T=0x0001  (1)
 0000017C  FF41      BL          send_string_u0?T  ; T=0x0001  (2)
   86:           }
 0000017E          L_139:
   89:         if(val3==1){
 0000017E  1C20      MOV         R0,R4 ; val3
 00000180  2801      CMP         R0,#0x1 ; val3
 00000182  D108      BNE         L_140  ; T=0x00000196
   90:           disp_string(0,0xc0,"Obstacle Detectd");
 00000184  4800      LDR         R2,=??S_24 ; ??S_24
 00000186  2000      MOV         R0,#0x0
 00000188  21C0      MOV         R1,#0xC0
 0000018A  F7FF      BL          disp_string?T  ; T=0x0001  (1)
 0000018C  FF39      BL          disp_string?T  ; T=0x0001  (2)
   91:           send_string_u0(" Obstacle Detected\n\r");
 0000018E  4800      LDR         R0,=??S_25 ; ??S_25
 00000190  F7FF      BL          send_string_u0?T  ; T=0x0001  (1)
 00000192  FF36      BL          send_string_u0?T  ; T=0x0001  (2)
   92:           }
 00000194  E004      B           L_141  ; T=0x000001A0
 00000196          L_140:
   94:           disp_string(0,0xc0,"No Obstacle");
 00000196  4800      LDR         R2,=??S_26 ; ??S_26
 00000198  2000      MOV         R0,#0x0
 0000019A  21C0      MOV         R1,#0xC0
 0000019C  F7FF      BL          disp_string?T  ; T=0x0001  (1)
 0000019E  FF30      BL          disp_string?T  ; T=0x0001  (2)
 000001A0          L_141:
   95:           send_string_u0(" No Obstacle\n\r");
 000001A0  4800      LDR         R0,=??S_27 ; ??S_27
 000001A2  F7FF      BL          send_string_u0?T  ; T=0x0001  (1)
 000001A4  FF2D      BL          send_string_u0?T  ; T=0x0001  (2)
   96:         }
 000001A6  E747      B           L_130  ; T=0x00000038
   98: return 0;
 000001A8            ; SCOPE-END
   99: }
 000001A8  B004      ADD         R13,#0x10
 000001AA  BC08      POP         {R3}
 000001AC  4718      BX          R3
 000001AE          ENDP ; 'main'



Module Information          Static
----------------------------------
  code size            =    ------
  data size            =    ------
  const size           =       414
End of Module Information.


ARM COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
